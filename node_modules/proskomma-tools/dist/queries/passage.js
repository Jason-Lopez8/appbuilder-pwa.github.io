"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _index = require("../pre-query/index.js");

var passageQuery = _ref => {
  var {
    reference,
    bookCode: _bookCode,
    chapterVerses: _chapterVerses,
    chapter: _chapter
  } = _ref;
  var query;
  var bookCode = _bookCode;
  var chapterVerses = _chapterVerses;
  var chapter = _chapter;

  if (reference) {
    var parsed = (0, _index.parseReferenceString)(reference);
    bookCode = parsed.bookCode;
    chapterVerses = parsed.chapterVerses;
    chapter = parsed.chapter;
  }

  ;

  var _scope = scope({
    bookCode
  });

  var clause = chapterVerses ? chapterVersesClause({
    chapterVerses
  }) : chapterClause({
    bookCode,
    chapter
  });
  query = "{\n      ".concat(_scope, " {\n        docSetId\n        cv ( ").concat(clause, " ) { scopeLabels text }\n      }\n    }");
  return query;
};

var scope = _ref2 => {
  var {
    bookCode
  } = _ref2;
  return "documents ( withBook: \"".concat(bookCode, "\" )");
};

var chapterVersesClause = _ref3 => {
  var {
    chapterVerses
  } = _ref3;
  return "chapterVerses: \"".concat(chapterVerses, "\"");
};

var chapterClause = _ref4 => {
  var {
    chapter
  } = _ref4;
  return "chapter: \"".concat(chapter, "\"");
};

var _default = passageQuery;
exports.default = _default;